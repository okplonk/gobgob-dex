<div style="
  width: 300px;
  height: 450px;
  perspective: 1000px;
  margin: auto;
">
  <div id="popup-inner" style="
    width: 100%;
    height: 100%;
    background-image: url('img/101.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    transition: transform 0.2s ease;
    position: relative;
    border-radius: 12px;
    isolation: isolate;
  " onmousemove="rotateCard(event)" onmouseleave="resetCard()">

    <!-- Effet holo -->
    <div style="
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, violet, cyan, gold);
      background-size: 300% 300%;
      animation: holoMove 5s linear infinite;
      mix-blend-mode: soft-light;
      opacity: 0.3;

      mask-image: url('img/101.png');
      mask-mode: alpha;
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size: contain;

      -webkit-mask-image: url('img/101.png');
      -webkit-mask-mode: alpha;
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;
      -webkit-mask-size: contain;

      pointer-events: none;
      z-index: 2;
    "></div>

    <!-- Sparkles -->
    <div style="
      position: absolute;
      inset: 0;
      background-image: url('https://assets.codepen.io/13471/sparkles.gif');
      background-size: cover;
      mix-blend-mode: screen;
      opacity: 0.5;

      mask-image: url('img/101.png');
      mask-mode: alpha;
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size: contain;

      -webkit-mask-image: url('img/101.png');
      -webkit-mask-mode: alpha;
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;
      -webkit-mask-size: contain;

      pointer-events: none;
      z-index: 3;
    "></div>

    <!-- Halo lumineux -->
    <div id="popup-halo" style="
      position: absolute;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, rgba(255,255,255,0.4) 0%, transparent 60%);
      transition: transform 0.1s ease;
      pointer-events: none;
      z-index: 4;
    "></div>

  </div>
</div>

<style>
@keyframes holoMove {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
</style>

<script>
function rotateCard(e) {
  const card = e.currentTarget;
  const halo = document.getElementById("popup-halo");
  const rect = card.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  const centerX = rect.width / 2;
  const centerY = rect.height / 2;

  const rotateX = -(y - centerY) / 8;
  const rotateY = (x - centerX) / 8;
  card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;

  const haloX = 50 + (rotateY * 2);
  const haloY = 50 - (rotateX * 2);
  halo.style.background = `radial-gradient(circle at ${haloX}% ${haloY}%, rgba(255,255,255,0.4) 0%, transparent 60%)`;
}

function resetCard() {
  const card = document.getElementById("popup-inner");
  const halo = document.getElementById("popup-halo");
  card.style.transform = "rotateX(0deg) rotateY(0deg)";
  halo.style.background = `radial-gradient(circle at center, rgba(255,255,255,0.4) 0%, transparent 60%)`;
}
</script>
