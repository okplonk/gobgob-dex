:root {
  --rarity-n1: #b84fff;
  --rarity-n2: #38e8ff;

  --rarity-hr1: #38f8a6;
  --rarity-hr2: #1de6a2;

  --rarity-sr1: #ffd700;
  --rarity-sr2: #ff9f00;

  --rarity-ssr1: #ff6a00;
  --rarity-ssr2: #ff3e00;

  --rarity-ur1: #ffffff;
  --rarity-ur2: #00cfff;
}

.popup-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transition: transform 0.2s ease;
  transform-style: preserve-3d;
  will-change: transform;
  overflow: hidden;
  isolation: isolate;
  border-radius: 16px;
}

.popup-card-inner::before,
.popup-card-inner::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: screen;
  z-index: 2;
  transition: all 0.4s ease;
  opacity: 0.4;
}

.popup-card-inner.n::before {
  background: linear-gradient(130deg, var(--rarity-n1), var(--rarity-n2));
  animation: holoGradient 6s ease-in-out infinite alternate;
}
.popup-card-inner.hr::before {
  background: linear-gradient(130deg, var(--rarity-hr1), var(--rarity-hr2));
  animation: holoGradient 6s ease-in-out infinite alternate;
}
.popup-card-inner.sr::before {
  background: linear-gradient(130deg, var(--rarity-sr1), var(--rarity-sr2));
  animation: holoGradient 6s ease-in-out infinite alternate;
}
.popup-card-inner.ssr::before {
  background: linear-gradient(130deg, var(--rarity-ssr1), var(--rarity-ssr2));
  animation: holoGradient 6s ease-in-out infinite alternate;
}
.popup-card-inner.ur::after {
  background-image: url("https://assets.codepen.io/13471/sparkles.gif"),
    url("https://assets.codepen.io/13471/holo.png");
  background-blend-mode: overlay;
  background-size: cover;
  animation: holoSparkle 12s ease-in-out infinite;
  opacity: 0.6;
}

@keyframes holoGradient {
  0% { background-position: 0% 0%; }
  100% { background-position: 100% 100%; }
}

@keyframes holoSparkle {
  0%, 100% {
    background-position: 50% 50%;
    filter: brightness(1.2) contrast(1.25);
  }
  25% {
    background-position: 30% 40%;
  }
  50% {
    background-position: 70% 60%;
  }
  75% {
    background-position: 50% 50%;
  }
}
