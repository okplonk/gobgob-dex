.popup-card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transition: transform 0.2s ease;
  transform-style: preserve-3d;
  will-change: transform;
  overflow: hidden;

  /* Masque de forme basé sur alpha PNG */
  mask-image: url("img/alpha-mask.png");
  mask-size: 100% 100%;
  mask-repeat: no-repeat;
  mask-position: center;

  -webkit-mask-image: url("img/alpha-mask.png");
  -webkit-mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

/* Couche d’effet holographique */
.popup-card-inner::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  mix-blend-mode: screen;
  background: radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    rgba(255, 255, 255, 0.4),
    transparent 60%
  );
  transition: opacity 0.3s;
}

/* ------------------ Rareté Boostée ------------------ */

.popup-card-inner.n::before {
  background: radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    rgba(180, 70, 255, 0.6),
    transparent 65%
  );
  animation: pulse-n 2s infinite ease-in-out;
}

.popup-card-inner.hr::before {
  background: radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    rgba(0, 255, 120, 0.6),
    transparent 65%
  );
  animation: pulse-hr 2s infinite ease-in-out;
}

.popup-card-inner.sr::before {
  background: radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    rgba(255, 220, 0, 0.7),
    transparent 65%
  );
  animation: pulse-sr 2s infinite ease-in-out;
}

.popup-card-inner.ssr::before {
  background: radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    rgba(255, 140, 0, 0.7),
    transparent 65%
  );
  animation: pulse-ssr 2s infinite ease-in-out;
}

.popup-card-inner.ur::before {
  background: repeating-radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    #fff 0%,
    #00f 10%,
    #f0f 20%,
    #0ff 30%,
    #fff 40%
  );
  background-size: 200% 200%;
  animation: holo-glow 1.5s infinite alternate;
  opacity: 0.7;
}

/* ------------------ Animations ------------------ */

@keyframes pulse-n {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50%      { opacity: 0.6; transform: scale(1.05); }
}

@keyframes pulse-hr {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50%      { opacity: 0.7; transform: scale(1.08); }
}

@keyframes pulse-sr {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50%      { opacity: 0.8; transform: scale(1.1); }
}

@keyframes pulse-ssr {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50%      { opacity: 0.9; transform: scale(1.12); }
}

@keyframes holo-glow {
  from { filter: hue-rotate(0deg) brightness(1.2); }
  to   { filter: hue-rotate(360deg) brightness(1.6); }
}
